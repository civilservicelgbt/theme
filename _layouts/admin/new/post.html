---
layout: admin/admin
---

<div id="page-help">

	<h2>Help</h2>

	<details>

		<summary>
			<h2>‚úèÔ∏è How to add a new post</h2>
		</summary>

		<div class="container">

			<ol>
				<li>Open each section under the 'Set post content' heading and enter the information. If you know you don't need a specific field, just leave it blank.</li>
				<li>After you've completed the desired fields under 'Set post content':</li>
					<ul>
						<li>Open the '1. Open GitHub' section. It contains a button that will open the correct page on GitHub.</li>
						<li>Open the '2. Set a file name' section. If you have completed the earlier information correctly, a suggested file name can be generated by selecting 'Generate'. You can override this manually by editing the text field. Copy and paste the content of the text field into the 'Name your file...' field of the GitHub website.</li>
						<li>Open the '3. Copy post content' section. Use the 'Copy content to clipboard' button to copy the post content to your clipboard. Paste (<kbd>Ctrl + V</kbd> or <kbd>¬ù‚åò + V</kbd>) into the ‚ÄúEdit new file‚Äù text box on the GitHub page.</li>
						<li>Select ‚ÄúCommit new file‚Äù on the GitHub page.</li>
					</ul>
			</ol>

			<p>The post will usually take up to 5 minutes to appear. You will usually receive an email if there is an error.</p>

		</div>

	</details>

	<details>
		<summary>
			<h2>üé® Formatting and styles</h2>
		</summary>

		<div class="container">
			<p>Most formatting, like page layouts, is done automatically for you when the site is generated.</p>
			<p>You can format the ‚Äúbody text‚Äù of your post using <a href="https://kramdown.gettalong.org/quickref.html" title="See the Markdown style guide">Markdown</a> syntax.</p>
		</div>

	</details>

	<details>

		<summary>
			<h2>üì∏ Uploading images</h2>
		</summary>

		<div class="container">

			<p>This tool does not allow you to upload images directly. Instead, you have to upload them to GitHub and then include Markdown to refer to them.</p>
			<p>If you need to include an image as part of your post, first you will need to upload the image to the <a href="https://www.civilservice.lgbt/admin/new/image">image store</a>.</p>
			<p>Then, if you want to display the image:</p>

			<ol>
				<li>at the very start of a post, enter the URL for the image in this tool's ‚Äúpost hero image‚Äù field</li>
				<li>in the body of a post, in the ‚Äúbody text‚Äù textarea include the URL for the image in Markdown format like this:
					<br><pre><code>![image description](imageURL)</code></pre>
			</ol>

		</div>

	</details>

	<details>

		<summary>
			<h2>üóÇ Uploading files</h2>
		</summary>

		<div class="container">

			<p>This tool does not allow you to upload files directly. Instead, you have to upload them to GitHub and then include Markdown to refer to them.</p>
			<p>If you need to include a file as part of your post, you will need to:


			<ol>
				<li>upload the file to the <a href="https://www.civilservice.lgbt/admin/new/document">document store</a></li>
				<li>in the body of a post, in the ‚Äúbody text‚Äù textarea include the URL for the image in Markdown format like this:
					<br><pre><code>[text to display](fileURL)</code></pre>
			</ol>

		</div>

	</details>

	<details>
		<summary>
			<h2>üìÑ File names</h2>
		</summary>

		<div class="container">
			<p><strong>All post file names should end in <code>.md</code>, <code>.markdown</code>.</strong> Users who are confident in HTML coding can produce more complex pages and end their file names in <code>.html</code>.</p>
			<p><strong>Some file names have a date at the start or the posts won't show up.</strong></p>
			<ul>
				<li>For <strong>news</strong>, <strong>publications</strong>, <strong>consultations</strong>, and <strong>notices</strong>, file names must start with a date in the format <code>YYYY-MM-DD-</code>.</li>
				<li>For <strong>events</strong>, file names <strong>must not</strong> start with a date but instead should be put in nested folders in the format <code>/YYYY/MM/DD/</code>.</li>
				<li>All other posts do not require a date in the file name, but this can be helpful for forcing a specific order.</li>
			</ul>
		</div>

	</details>

	<details>
		<summary>
			<h3>üîê GitHub permissions</h3>
		</summary>

		<div class="container">
			<p>You will require a <a href="//github.com/" title="Go to the GitHub website" target="_blank" rel="noopener noreferrer">GitHub</a> account and relevant permissions to <a href="{{ site.git-repos | append: site.site-repo }}" title="Visit the GitHub repository for this site">the repository</a> for this site in order to add or amend its content.</p>
		</div>

	</details>

</div>

<div id="page-content">

	<h2>Set post content</h2>

	<fieldset id="post-collection">
	<details open>

		<summary>
			<h3><legend>Choose a collection</legend></h3>
		</summary>

		<div class="container">

			<p class="legend">Which part of the site will this post appear on?</p>
			<p class="label-hint">For example ‚Äì¬†if it's a blog post, it would go in the 'News' collection.</p>

			{% assign collections = site.collections | where_exp: "collections", "collections.label != 'posts'" %}
			{% for collection in collections %}
				{% for default in collection.defaults %}
				{% for admin in default[1].admin %}
					{% assign label = admin[0] %}
					{% if label == "add-to-collection"%}
						{% assign bool = admin[1] %}
					{% endif %}
				{% endfor %}
				{% endfor %}
				{% if bool == true %}
				<div class="radio-input">
					<input type="radio" name="post-collection" id="post-collection--{{ collection.label }}" value="{{ collection.relative_directory }}"{% if collection.label == "news" %} checked{% endif %}>
					<label for="post-collection--{{ collection.label }}">
						{{ collection.label | capitalize }}
					</label>
				</div>
				{% endif %}
			{% endfor %}

		</div>

	</details>
	</fieldset>

	<fieldset id="post-format">
	<details>

		<summary>
			<h3><legend>Choose a post format</legend></h3>
		</summary>

		<div class="container">

			<p class="legend">What format of post will this be?</p>
			<p class="label">This is almost always the same as the Collection, but you can change this setting to override the format if you need to use a different format for some reason.</p>
			<p class="label-hint">For example ‚Äì¬†if it's an event, choose 'Event format'.</p>

			{% assign collections = site.collections | where_exp: "collections", "collections.label != 'posts'" %}
			{% for collection in collections %}
				{% for default in collection.defaults %}
					{% for layout in default[1].layout %}
						{% assign post-layout = layout %}
					{% endfor %}
					{% for admin in default[1].admin %}
						{% assign label = admin[0] %}
						{% if label == "show-in-formats"%}
							{% assign bool = admin[1] %}
						{% endif %}
					{% endfor %}
				{% endfor %}
				{% if bool == true %}
				<div class="radio-input">
					<input type="radio" class="from-{{ collection.label }}" name="post-format" id="post-format--{{ post-layout }}" value="{{ post-layout }}" onChange="toggleFieldSets();" {% if collection.label == "news" %} checked{% endif %}>
					<label for="post-format--{{ post-layout }}">
						{{ post-layout | remove: "format/" | capitalize }} format
					</label>
				</div>
				{% endif %}
			{% endfor %}

		</div>

	</details>
	</fieldset>

	<fieldset id="post-title-and-excerpt">
		<details>

			<summary>
				<h3><legend>Add a title and excerpt</legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-title">Post title</label>
					<input id="post-title" name="post-title" type="text" placeholder="Enter post title">
				</div>

				<div class="text-input">
					<label for="post-excerpt">Post excerpt</label>
					<textarea id="post-excerpt" name="post-excerpt" placeholder="Enter a short excerpt here" cols="30" rows="3"></textarea>
				</div>

			</div>

		</details>
	</fieldset>

	<fieldset id="post-categories-topics">
		<details>

			<summary>
				<h3><legend>Add topics <span class="optional">(optional)</span></legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-categories">Topics</label>
					<p class="label">Used to generate topic pages.</p>
					<p class="label">If a post is tagged with a topic, it will show up on the corresponding topic page. One or more items in a comma separated list.</p>
					<p class="label-hint">For example ‚Äì¬†"Topic 1", "Topic 2", "Topic 3"</p>
					<input id="post-categories" name="post-categories" type="text" placeholder='"Pride"'>
				</div>

			</div>

		</details>

	</fieldset>

	<fieldset id="post-author">
		<details>

			<summary>
				<h3><legend>Set the author <span class="optional">(optional)</span></legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-author-name">Post author</label>
					<input id="post-author-name" name="post-author-name" type="text" placeholder="Enter author‚Äôs name" value="Civil Service LGBT+ Network">
				</div>

				<div class="text-input">
					<label for="post-author-url">Author URL</label>
					<p class="label">Makes the author's name a link in some templates. You could link to a profile on the website or a social media profile.</p>
					<p class="label-hint">For example ‚Äì¬†https://www.twitter.com/cslgbt</p>
					<input id="post-author-url" name="post-author-url" type="text" placeholder="Enter author‚Äôs URL">
				</div>

			</div>

		</details>

	</fieldset>

	<fieldset id="post-dates">
		<details>
			<summary>
				<h3><legend>Set publish date</legend></h3>
			</summary>

			<div class="container">

				<p class="label">On what date is the post meant to be published?</p>
				<p class="sub-legend">For example ‚Äì 2021 12 31</p>
				<div class="text-input date year">
					<label for="post-year">Year</label>
					<input id="post-year" inputmode="numeric" name="post-year" type="text" placeholder="YYYY" minlength="4" maxlength="4">
				</div>
				<div class="text-input date month">
					<label for="post-month">Month</label>
					<input id="post-month" inputmode="numeric" name="post-month" type="text" placeholder="MM" minlength="2" maxlength="2">
				</div>
				<div class="text-input date day">
					<label for="post-day">Day</label>
					<input id="post-day" inputmode="numeric" name="post-day" type="text" placeholder="DD" minlength="2" maxlength="2">
				</div>

			</div>

		</details>
	</fieldset>

	<fieldset id="post-images-and-videos">
		<details>

			<summary>
				<h3><legend>Add hero images and videos <span class="optional">(optional)</span></legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-image">Post hero image</label>
					<p class="label">Sets the hero image for the post.</p>
					<p class="label">Must be an image file already uploaded to the website (you can't upload images through this tool).</p>
					<p class="label-hint">For example ‚Äì¬†https://www.civilservice.lgbt/name-of-image.png</p>
					<input id="post-image" name="post-image" type="text" placeholder="Enter image path">
				</div>

				<div class="text-input">
					<label for="post-video">Post video</label>
					<p class="label">Shows a video at the top of the post.</p>
					<p class="label">Must be a YouTube URL.</p>
					<p class="label-hint">For example ‚Äì¬†https://www.youtube.com/embed/ZQtfWH89gjQ</p>
					<input id="post-video" name="post-video" type="text" placeholder="Enter YouTube URL">
				</div>

			</div>

		</details>

	</fieldset>

	<fieldset id="post-event" hidden>
		<details>

			<summary>
				<h3><legend>Add the event details</legend></h3>
			</summary>

			<div class="container">

				<p class="label"><strong>Event start date and time</strong></p>
				<p class="label">On what date and at what time is the event taking place?</p>
				<p class="sub-legend">For example ‚Äì 2021 12 31 13 00</p>
				<div class="text-input date year">
					<label for="post-event-date-year">Year</label>
					<input id="post-event-date-year" inputmode="numeric" name="post-event-date-year" type="text" placeholder="YYYY" minlength="4" maxlength="4">
				</div>
				<div class="text-input date month">
					<label for="post-event-date-month">Month</label>
					<input id="post-event-date-month" inputmode="numeric" name="post-event-date-month" type="text" placeholder="MM" minlength="2" maxlength="2">
				</div>
				<div class="text-input date day">
					<label for="post-event-date-day">Day</label>
					<input id="post-event-date-day" inputmode="numeric" name="post-event-date-day" type="text" placeholder="DD" minlength="2" maxlength="2">
				</div>
				<div class="text-input date hour">
					<label for="post-event-date-hour">Hour</label>
					<input id="post-event-date-hour" inputmode="numeric" name="post-event-date-hour" type="text" placeholder="hh" minlength="2" maxlength="2">
				</div>
				<div class="text-input date minute">
					<label for="post-event-date-minute">Minute</label>
					<input id="post-event-date-minute" inputmode="numeric" name="post-event-date-minute" type="text" placeholder="mm" minlength="2" maxlength="2">
				</div>

				<p class="label"><strong>Event registration closing date and time</strong></p>
				<p class="label">When do registrations for the event stop?</p>
				<p class="sub-legend">For example ‚Äì 2021 12 31 13 00</p>
				<div class="text-input date year">
					<label for="post-registration-close-date-year">Year</label>
					<input id="post-registration-close-date-year" inputmode="numeric" name="post-registration-close-date-year" type="text" placeholder="YYYY" minlength="4" maxlength="4">
				</div>
				<div class="text-input date month">
					<label for="post-registration-close-date-month">Month</label>
					<input id="post-registration-close-date-month" inputmode="numeric" name="post-registration-close-date-month" type="text" placeholder="MM" minlength="2" maxlength="2">
				</div>
				<div class="text-input date day">
					<label for="post-registration-close-date-day">Day</label>
					<input id="post-registration-close-date-day" inputmode="numeric" name="post-registration-close-date-day" type="text" placeholder="DD" minlength="2" maxlength="2">
				</div>
				<div class="text-input date hour">
					<label for="post-registration-close-date-hour">Hour</label>
					<input id="post-registration-close-date-hour" inputmode="numeric" name="post-registration-close-date-hour" type="text" placeholder="hh" minlength="2" maxlength="2">
				</div>
				<div class="text-input date minute">
					<label for="post-registration-close-date-minute">Minute</label>
					<input id="post-registration-close-date-minute" inputmode="numeric" name="post-registration-close-date-minute" type="text" placeholder="mm" minlength="2" maxlength="2">
				</div>

				<div class="text-input">
					<label for="post-event-location">Event location</label>
					<p class="label">If this is an in-person event, where is it taking place?</p>
					<p class="label-hint">For example ‚Äì¬†1 Horseguards Parade, London</p>

					<p class="label">If this is a digital event, what platform is being used?</p>
					<p class="label-hint">For example ‚Äì¬†Google Meet</p>
					<input id="post-event-location" name="post-event-location" type="text" placeholder="Enter location">
				</div>

				<div class="text-input">
					<label for="post-event-link">Event link</label>
					<p class="label">What is the link to the registration form?</p>
					<p class="label-hint">For example ‚Äì¬†https://www.surveymonkey.com/aBcDeFg123/</p>
					<input id="post-event-link" name="post-event-link" type="text" placeholder="Enter URL">
				</div>

				<div class="text-input">
					<label for="post-event-email">Event email</label>
					<p class="label">What is the email address people can contact to register?</p>
					<p class="label-hint">For example ‚Äì¬†events@example.com</p>
					<input id="post-event-email" name="post-event-email" type="email" placeholder="Enter email address">
				</div>

				<div class="text-input">
					<label for="post-event-no-register">No registration message</label>
					<p class="label">If the event does not require registration, what message do you want to display instead?</p>
					<p class="label-hint">For example ‚Äì¬†"No need to register. Just turn up."</p>
					<input id="post-event-no-register" name="post-event-no-register" type="text" placeholder="Enter message">
				</div>

			</div>

		</details>

	</fieldset>

	<fieldset id="post-consultation" hidden>
		<details>

			<summary>
				<h3><legend>Add the consultation details</legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-consultation-link">Consultation link</label>
					<p class="label">What is the web address for the consultation?</p>
					<p class="label-hint">For example ‚Äì¬†https://www.surveymonkey.com/aBcDeFg123/</p>
					<input id="post-consultation-link" name="post-consultation-link" type="text" placeholder="Enter URL">
				</div>

				<p class="label"><strong>Closing date</strong></p>
				<p class="label">On what date does the consultation close?</p>
				<p class="sub-legend">For example ‚Äì 2021 12 31</p>
				<div class="text-input date year">
					<label for="post-consultation-end-year">Year</label>
					<input id="post-consultation-end-year" inputmode="numeric" name="post-consultation-end-year" type="text" placeholder="YYYY" minlength="4" maxlength="4">
				</div>
				<div class="text-input date month">
					<label for="post-consultation-end-month">Month</label>
					<input id="post-consultation-end-month" inputmode="numeric" name="post-consultation-end-month" type="text" placeholder="MM" minlength="2" maxlength="2">
				</div>
				<div class="text-input date day">
					<label for="post-consultation-end-day">Day</label>
					<input id="post-consultation-end-day" inputmode="numeric" name="post-consultation-end-day" type="text" placeholder="DD" minlength="2" maxlength="2">
				</div>

			</div>

		</details>

	</fieldset>

	<fieldset id="post-permalink-setup">
		<details>

			<summary>
				<h3><legend>Set a permalink</legend></h3>
			</summary>

			<div class="container">

				<p>The permalink is the part of the web address that appears after <code>www.civilservice.lgbt</code>.</p>
				<p>Permalinks usually start with the name of the collection, followed by the date, followed by the title of the post. For example ‚Äì <code>/news/2021/12/31/happy-new-year</code>.</p>
				<p>Permalinks are generated automatically depending on which folder you put them in, but you can override them to change this to something easier to remember.</p>
				<p><strong>You can only have one permalink.</strong> If you need a different web address to redirect to the same page, use the ‚ÄúRedirect from‚Äù field below.</p>

				<label for="post-generate-permalink">
					Generate a permalink
					<p class="label-hint">Use this button to automatically generate a suggested permalink. It will appear in the text field below.</p>
				</label>

				<button id="post-generate-permalink" onClick="getPermalink();">Generate</button>

				<div class="text-input">
					<label for="post-permalink">
						Permalink
						<p class="label-hint">Overrides the default permalink.</p>
						<p class="label-hint">For example ‚Äì¬†<code>/2021/12/31/name-of-your-post/</code></p>
					</label>
					<input id="post-permalink" name="post-permalink" type="text" placeholder="/2021/12/31/name-of-your-post/">
				</div>

				<label for="post-test-permalink">
					Test the permalink
					<p class="label-hint">Permalinks <strong>must</strong> be unique across the site.</p>
					<p class="label-hint">Use this button to open the suggested permalink, above, in a new window.</p>
					<p class="label-hint">If you get a ‚Äú404: Page not found‚Äù page, then it is safe to use the permalink. If it loads a pre-existing page, you should change the permalink, either for this page or for the page that it loads.</p>
				</label>

				<button id="post-test-permalink" onClick="testPermalink();">Test this link</button>

			</div>

		</details>
	</fieldset>

	<fieldset id="post-redirects">
		<details>

			<summary>
				<h3><legend>Set up any redirects <span class="optional">(optional)</span></legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-redirect_from">Redirect from</label>
					<p class="label">Use this to redirect from another page to this page. Enter one url only.</p>
					<p class="label-hint">For example ‚Äì /2021/12/31/name-of-your-post/</p>
					<input id="post-redirect_from" name="post-redirect_from" type="text" placeholder="/2021/12/31/name-of-your-post/">
				</div>

				<div class="text-input">
					<label for="post-redirect_to">Redirect to</label>
					<p class="label">Use this to redirect to another URL from this page. Enter one url only.</p>
					<p class="label-hint">For example ‚Äì /2021/12/31/name-of-your-post/</p>
					<input id="post-redirect_to" name="post-redirect_to" type="text" placeholder="/2021/12/31/name-of-your-post/">
				</div>

			</div>

		</details>

	</fieldset>

	<fieldset id="post-content">

		<details>

			<summary>
				<h3><legend>Add the post content</legend></h3>
			</summary>

			<div class="container">

				<div class="text-input">
					<label for="post-body">Body text</label>
					<textarea id="post-body" name="post-body" placeholder="Enter your post content here" cols="30" rows="20"></textarea>
				</div>

			</div>

		</details>

	</fieldset>

	<h2>Publish the post</h2>

	<details>

		<summary>
			<h3><legend>1. Open GitHub</legend></h3>
		</summary>

		<div class="container">

			<label for="post-open-github">
				Open GitHub in a new window
				<p class="label-hint">The button will open GitHub at the correct directory to create a new post based on the 'Collection' you selected above.</p>
				<p class="label-hint">After the window opens, come back to this page.</p>
			</label>

			<button id="post-open-github" onclick="openGitHub()">Open GitHub</button>

		</div>

	</details>

	<fieldset id="post-filename-setup">
		<details>

			<summary>
				<h3><legend>2. Set a file name</legend></h3>
			</summary>

			<div class="container">

				<label for="post-generate-filename">
					Generate a file name
					<p class="label-hint">Use this button to automatically generate a suggested file name. It will appear in the text field below.</p>
				</label>

				<button id="post-generate-filename" onClick="getFileName();">Generate</button>


				<div class="text-input">
					<label for="post-recommended-filename">
						File name
						<p class="label-hint">Copy and paste this text into the "Name your file..." field on the GitHub website.</p>
					</label>
					<input id="post-recommended-filename" name="post-recommended-filename" type="text" placeholder="2021-12-31-filename.md">
					<button onClick="copyFieldContentToClipboard('post-recommended-filename')">Copy file name</button>
					<button onClick="focusGitHub()">Go to GitHub</button>
				</div>

			</div>

		</details>
	</fieldset>

	<fieldset id="post-copy-content">
		<details>

			<summary>
				<h3><legend>3. Copy post content</legend></h3>
			</summary>

			<div class="container">

				<label for="post-open-copy-content">
					Copy to clipboard
					<p class="label-hint">Use this button to copy the post content to your clipboard.</p>
					<p class="label-hint">Paste this into the GitHub window.</p>
				</label>

				<button id="post-open-copy-content" onclick="copyPostContentToClipboard()">Copy content to clipboard</button>
				<button onClick="focusGitHub()">Go to GitHub</button>

			</div>

		</details>
	</fieldset>

	<details>

		<summary>
			<h3><legend>4. Publish the post</legend></h3>
		</summary>

		<div class="container">

			<label for="post-open-commit">
				Commit the file
				<p class="label-hint">On the GitHub page, select "Commit new file", at the bottom of the page.</p>
			</label>

			<button onClick="focusGitHub()" id="post-open-commit">Go to GitHub</button>

		</div>

	</details>

</div>

<div id="page-preview">
	<h2>Preview</h2>

	<div id="post-preview">
		<header id="post-preview-header">
			1970-01-01-post-preview.md
		</header>
		<article id="post-preview-output">
			A preview of your output will display here shortly.
			<br>
			<br>
			Only an excerpt of the output will be displayed.
		</article>
		<footer id="post-preview-footer">
			<button onClick="updatePostPreview()">Update preview</button>
		</footer>
	</div>
</div>